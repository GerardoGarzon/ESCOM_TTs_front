<div class="vh-100 d-flex align-items-center">
    <div class="container">
        <div class="card shadow-lg p-3 bg-body-tertiary rounded-4 border border-0">
            <div class="card-body">
                <h2 class="text-center py-2">Trabajos terminales</h2>
                <div class="row">
                    <div class="col border-end d-none d-lg-flex justify-content-center align-items-center">
                        <ng-lottie
                            (animationCreated)="onAnimate($event)"
                            [options]="options"
                            class="w-75">
                        </ng-lottie>
                    </div>
                    <div class="col d-flex flex-column justify-content-center">
                        <form [formGroup]="formularioCreado" class="px-0 px-lg-5">
                            <div class="d-none d-md-flex d-lg-none align-items-center justify-content-center py-3">
                                <img class="w-25" src="assets/logo/escudoESCOM.png">
                            </div>
                            <div class="d-flex align-items-center justify-content-center d-md-none py-3">
                                <img class="w-50" src="assets/logo/escudoESCOM.png">
                            </div>
                            <h3 class="my-3">Iniciar sesión</h3>

                            <div class="form-floating mb-3">
                                <input class="form-control" formControlName="email" id="floatingInputEmail"
                                       placeholder="name@alumno.ipn.mx" type="email">
                                <label for="floatingInputEmail">Correo institucional</label>
                            </div>

                            <div class="input-group mb-3">
                                <div class="form-floating">
                                    <input class="form-control" formControlName="password" id="floatingPassword"
                                           placeholder="Contraseña" [type]="isPasswordEnabled ? 'password' : 'text'">
                                    <label for="floatingPassword">Contraseña</label>
                                </div>
                                <span class="input-group-text" (click)="showPassword()">
                                    <i class="fa-solid" [ngClass]="{' fa-eye-slash': isPasswordEnabled, ' fa-eye': !isPasswordEnabled}" id="togglePassword" style="cursor: pointer"></i>
                                </span>
                            </div>

                            <div class="d-grid col-6 mx-auto my-2">
                                <button (click)="iniciarSesion()" class="btn btn-dark" type="submit">Iniciar sesión
                                </button>
                            </div>

                            <hr class="mb-3">

                            <div class="d-flex gap-2 flex-column">
                                <button (click)="resetPassword()" class="btn btn-link link-dark" type="button">Olvidaste
                                    tu contraseña
                                </button>
                                <div class="d-flex align-items-center justify-content-center">
                                    No tienes una cuenta?
                                    <button class="btn btn-link link-dark" routerLink="/register" type="button">
                                        Registrarse
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
            <div aria-atomic="true" aria-live="assertive" class="toast align-items-center text-bg-danger border-0"
                 id="liveToast" role="alert">
                <div class="d-flex">
                    <div class="toast-body">
                        {{ this.message }}
                    </div>
                    <button aria-label="Close" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                            type="button"></button>
                </div>
            </div>
        </div>

        <div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
            <div aria-atomic="true" aria-live="assertive" class="toast align-items-center text-bg-success border-0"
                 id="liveToastSuccess" role="alert">
                <div class="d-flex">
                    <div class="toast-body">
                        {{ this.message }}
                    </div>
                    <button aria-label="Close" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                            type="button"></button>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="showSpinner"
     class="vw-100 vh-100 bg-dark opacity-75 d-flex align-items-center justify-content-center position-absolute top-0 start-0">
    <div class="spinner-border text-light" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>
