<div class="modal fade" id="modalAgregar{{id}}" tabindex="-1" aria-labelledby="modalAgregarLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="modalAgregarLabel">Agregar alumno</h1>
                <button type="button" #closeButton class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="resetView()"></button>
            </div>
            <div class="modal-body">
                <h5>Trabajo terminal: {{ titulo }}</h5>
                <form [formGroup]="formularioCreado">
                    <div formArrayName="alumnos">
                        <ng-container *ngFor="let alumno of getControls('alumnos', formularioCreado)?.controls; index as i">
                            <div class="d-flex align-items-center">
                                <div class="form-floating my-2 flex-fill" formGroupName="{{i}}">
                                    <input type="text" class="form-control" id="floatingAlumno{{i}}" placeholder="Alumno {{i + 1}}"  formControlName="alumno">
                                    <label for="floatingAlumno{{i}}">Alumno {{i + 1}}</label>
                                </div>
                                <i class="fa-solid fa-trash-can mx-2" style="cursor:pointer;" *ngIf="i > 0" (click)="deleteRow(i)"></i>
                            </div>
                        </ng-container>
                    </div>
                    <hr>
                    <div class="d-flex align-items-center justify-content-center">
                        <i class="fa-solid fa-circle-plus fa-xl m-2" style="cursor: pointer" (click)="agregarNuevoAlumno()"></i>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="resetView()">Cerrar</button>
                <button type="button" class="btn btn-success" (click)="actualizarTrabajo()" >Guardar</button>
            </div>
        </div>
    </div>
</div>

<div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
    <div aria-atomic="true" aria-live="assertive" class="toast align-items-center text-bg-danger border-0"
         id="addTrabajoToastError" role="alert">
        <div class="d-flex">
            <div class="toast-body">
                {{ this.message }}
            </div>
            <button aria-label="Close" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    type="button"></button>
        </div>
    </div>
</div>

<div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
    <div aria-atomic="true" aria-live="assertive" class="toast align-items-center text-bg-success border-0"
         id="addTrabajoToastSuccess" role="alert">
        <div class="d-flex">
            <div class="toast-body">
                {{ this.message }}
            </div>
            <button aria-label="Close" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                    type="button"></button>
        </div>
    </div>
</div>
